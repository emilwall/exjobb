% !TEX TS-program = pdflatex
% !TEX encoding = UTF-8 Unicode

\documentclass[11pt]{article}

\usepackage[english,swedish]{babel} % Svensk typsättning, placera högst upp för kompabilitet med andra paket
\usepackage[utf8]{inputenc} % set input encoding (not needed with XeLaTeX
\usepackage{enumitem} % resume numbering in enumerations
\usepackage[bottom = 110pt]{geometry} % to change the page dimensions
\geometry{a4paper} % paper format
\usepackage{graphicx} % support the \includegraphics command and options
\usepackage[parfill]{parskip} % Begin paragraphs with an empty line rather than an indent
\usepackage{verbatim} % adds environment for commenting out blocks of text & for better verbatim
\usepackage{titling}
\setlength{\droptitle}{-70pt}   % Justera höjd på rubrik
\usepackage{fancyhdr} % This should be set AFTER setting up the page geometry
\pagestyle{fancy} % options: empty , plain , fancy
\renewcommand{\headrulewidth}{0pt} % customise the layout...
\lhead{}\chead{}\rhead{}
\lfoot{}\cfoot{\thepage}\rfoot{}
\usepackage{sectsty} % Section title
\allsectionsfont{\sffamily\mdseries\upshape} % Section font
\usepackage{hyperref} % href

\title{Specifikation av examensarbete}
\author{Emil Wall}
%\date{} % Avkommentera för att dölja dagens datum, eller skriv in datum som ska visas

\begin{document}
\maketitle

\section{Preliminär titel}

\textbf{Engelska:} \textit{\foreignlanguage{english}{Practices and Benefits of Javascript Testing}}

\textbf{Svenska:} Testning av Javascript - Fördelar och Tillvägagångssätt

Rapporten kommer med allra största sannolikhet att skrivas på engelska, trots att denna specifikation är skriven på svenska. Några anledningar till detta är att det i många avseenden underlättar att kunna använda termer som är etablerade på engelska men som saknar svensk motsvarighet samt att rapporten blir mer tillgänglig och användbar som merit om den även kan läsas av personer som saknar kunskaper om det svenska språket.

\section{Bakgrund}

\textit{Här beskrivs i vilket sammanhang examensarbetet skall utföras. Vilka förutsättningar gäller, vad är målet med examensarbetet från uppdragsgivarens synpunkt, vad finns och har gjorts tidigare, och under vilka förhållanden jobbet skall utföras.}

Javascript är ett skriptspråk som främst används i webbläsare för att utföra mer komplicerad logik på klientsidan än vad som är möjligt med endast html och css. Det finns ett flertal testramverk för Javascript, men det är långt ifrån alltid som utvecklare utnyttjar dem. Detta innebär att otestad kod sätts i produktion, som kan orsaka stora ekonomiska förluster i samband med driftstopp på grund av oupptäckta buggar, förkortad livstid för produkten och förhöjda kostnader i samband med vidareutveckling och underhåll av koden.

Särskilt allvarligt blir det när Javaskript-koden utgör en del av förutsättningarna för den affärskritiska verksamheten, vilket blir allt vanligare. Det kan till exempel röra sig om stora mängder uteblivna beställningar från en webbshop eller att varumärket skadas då en hemsida upplevs som trasig. Fel uppstår lätt vid ändringar om automatiska tester saknas och kan till exempel ha att göra med inkompatibilitet med olika versioner av webbläsare eller okända beroenden mellan olika delar av Javaskript-koden, saker som skulle gå att upptäcka innan produktionssättning med bra tester. Om enhetstesterna kompletteras med integrationstester och körs automatiskt i ett CI-bygge (på en byggserver som används för kontinuerlig integration) så kan man undvika fel som annars lätt uppstår till följd av oväntade konsekvenser av ändringar på annat håll i applikationen, som påverkar den funktionalitet som javascriptet är tänkt att bidra med.

Att använda sig av tester vid programmering med Javaskript breddar även för testdriven utveckling, vilket för med sig fördelar i form av att designen blir mer genomtänkt och ökar underhållbarheten, både genom att testerna fungerar som dokumentation för koden och genom att koden görs testbar vilket i sig tenderar att innebära efterlevnad av viktiga principer såsom separation av beroenden och att varje funktion gör exakt en sak.

Målet med examensarbetet är att utreda varför testning av Javascript utförs i såpass liten utsträckning idag, undersöka vilka konsekvenser en ökad mängd testning skulle kunna ge för utvecklingsarbetet och affärsvärdet gentemot kund samt att redogöra för några möjliga tillvägagångssätt för testning av Javascript under olika förutsättningar.

Att skriva tester för Javascript är inget nytt, det första kända testramverket JsUnit skapades 2001 av Edward Hieatt\cite{GoingFaster}\cite{JsUnitGithub} och sedan dess har ett flertal andra testramverk tillkommit såsom JsUnits uppföljare Jasmine\cite{JasmineSite}, Mocha\cite{MochaSite} och QUnit\cite{QUnitSite}, samt verktyg för mockning\footnote{Mockning och stubbning innebär simulering av beteenden hos verkliga objekt i syfte att isolera systemet under test från yttre beroenden}. Däremot tycks kunskapen om hur man på ett smidigt sätt kommer igång, hur man undviker att testerna blir icke-deterministiska och tidskrävande och vad det egentligen är man ska testa vara sällsynt. Att sätta upp strukturen som krävs för att kunna skriva tester är en tröskel som de flesta Javascript-programmerare inte tar sig över och därmed går de miste om de vinster, såväl kortsiktiga som långsiktiga, som väl utförd testning ger.

Förutom testramverken så finns det dessutom en hel del tidigare akademiskt arbete som behandlar testning av webb-applikationer och även specifikt Javascript. Dessa arbeten kommer att redogöras för i den slutgiltiga rapporten. Vissa arbeten behandlar automatisk generering av tester, vilket kommer att vara av begränsat intresse för examensarbetet eftersom det går emot vissa principer om vad tester är till för. Andra är i allra högsta grad relevanta, till exempel ett som behandlar enhetstestning av Javascript som manipulerar en underliggande webbsida\cite{DOMJavascript} och en empirisk studie av hur vanligt det är med buggar i Javascript-kod på produktionssatta webbsidor\cite{Wild}.

I guider för hur man använder testramverk för Javascript är exemplen ofta frikopplade från det typiska användningsområdet av Javascript - webben. Istället tenderar de att innehålla tester av funktioner utan sidoeffekter och beroenden. Under dessa förhållanden blir testningen trivial och de allra flestaJavascript-programmerare skulle säkerligen klara av att sätta upp en testmiljö för sådan enkel kod, men det är alltså inte det problemdomänet som kommer att beröras av det här arbetet utan fokus kommer istället att ligga på hur man testar beteendet hos Javascript som manipulerar DOM-element (Document Object Model, de element som html-kod består av), samt när och varför man bör göra det.

Arbetet kommer att utföras i Valtechs lokaler i Stockholm, ett företag med cirka 150 anställda som ägnar sig åt konsultverksamhet primärt inriktad mot agil utveckling, särskilt av användarvänliga hemsidor, webbapplikationer och intranät. Valtech tillhandahåller arbetsplats med teknisk utrustning och handledare.

\section{Uppgiftsbeskrivning}

\textit{Här beskrivs mer detaljerat innehållet i examensarbetet: vad som skall göras och vilka moment som ingår. Speciellt skall det beskriva vad som är den intressanta delen i problemet, samt hur detta skall analyseras och lösas. Här bör det alltså framgå att arbetet uppfyller kraven som universitetet har på ett examensarbete på denna nivå.}

Att utreda orsaker till dagens begränsade testning av Javascript kan göras utifrån olika infallsvinklar. Det finns mjuka aspekter att ta hänsyn till såsom:
\begin{itemize}
\item Skillnader i attityder gentemot testning mellan olika gemenskaper, kretsar och yrkesgrupper
\item Synen på Javascript som språk och hur det vanligtvis används
\item Kunskap om testning bland de som utvecklar i Javascript
\item Ekonomisk lönsamhet
\end{itemize}

Det finns även mer tekniska aspekter att analysera:
\begin{itemize}
\item Testbarhet hos den Javascript-kod som skrivs
\item Testverktygens användbarhet
\item Begränsningar i vad som går att testa
\end{itemize}

\section{Tillvägagångssätt}

\textit{Vilka system, verktyg och metoder som skall användas. Relevant litteratur (det är oftast en del av arbetet att ta fram ytterligare litteratur). Hur resultatet skall utvärderas och dokumenteras. Studenten ska bidra med information om vilka kurser han/hon har tagit som är relevanta och viktiga för examensarbetet.}

\section{Avgränsningar}

\textit{Det är också viktigt att skriva ner vad som inte ingår i uppdraget. Detta förebygger att examensarbetet sväller ut okontrollerat. Med fördel kan du skriva ner några punkter som ingår i mån av tid, men räkna med att tiden ofta inte räcker.}

\section{Tidsplan}

\textit{Här framgår det när jobbet ska göras och hur mycket tid som allokerats till varje moment (noggrannheten kan variera, men inget moment ska vara större än 4 veckor). Tidplanen skall ta hänsyn till faktorer som gör att man inte jobbar heltid med examensarbetet (semester, kurser som ska avslutas, andra åtaganden). Ofta genomförs moment parallellt, t.ex. rapportskrivningen pågår under hela arbetet. Rita gärna en bild som förtydligar sammanhanget mellan olika moment. Rapporteringsmöten bokas in med ämnesgranskaren.}

\begin{thebibliography}{9}

\bibitem{GoingFaster}
  Edward Hieatt and Robert Mee,
  \emph{Going Faster: Testing The Web Application}.
  IEEE Software, p.~63
  March/April 2002.

\bibitem{JsUnitGithub}
  Github,
  \emph{pivotal/jsunit}.
  \url{https://github.com/pivotal/jsunit}
  Read on April 3, 2013.

\bibitem{MochaSite}
  TJ Holowaychuk,
  \emph{mocha - simple, flexible, fun javascript test framework for node.js \& the browser}.
  \url{http://visionmedia.github.com/mocha/}
  Read on April 3, 2013.

\bibitem{JasmineSite}
  Running documentation,
  \emph{Jasmine is a behavior-driven development framework for testing JavaScript code}.
  \url{http://pivotal.github.com/jasmine/}
  Read on April 3, 2013.

\bibitem{QUnitSite}
  The jQuery Foundation,
  \emph{QUnit: A JavaScript Unit Testing framework.}
  \url{http://qunitjs.com/}
  Read on April 3, 2013.

\bibitem{DOMJavascript}
  Phillip Heidegger, Annette Bieniusa, and Peter Thiemann,
  \emph{DOM Transactions for Testing JavaScript}.
  Albert-Ludwigs-Universität Freiburg, Germany.
  Proceeding TAIC PART'10 Proceedings of the 5th international academic and industrial conference on Testing - practice and research techniques.
  Pages 211-214.
  2010.

\bibitem{Wild}
  Frolin S. Ocariza, Jr., Karthik Pattabiraman, Benjamin Zorn
  \emph{JavaScript Errors in the Wild: An Empirical Study}.
  2011 IEEE 22nd International Symposium on Software Reliability Engineering (ISSRE).
  Pages 100-109.
  Nov. 29 2011-Dec. 2 2011.

\end{thebibliography}

\end{document}



