\pagenumbering{gobble} % Turn off page numbering

\maketitle

\vspace{100pt}
The final version will have title page and endpaper generated from \\
\url{http://pdf.teknik.uu.se/pdf/exjobbsframsida.php} and \\
\url{http://pdf.teknik.uu.se/pdf/abstract.php}. \\
Hence, this page and the abstract are temporary, to be replaced in the final version.

\newpage
\null
\newpage

\begin{abstract}
The ever increasing complexity of web applications has brought new demands on automated testing of JavaScript, requiring test-driven development to achieve maintainable code. A contrasting area is testing of Standard ML, another functional language but with important differences.

The aim of this thesis is to highlight the main problems with testing behaviour of applications written in these two programming languages, and how these problems relate to development tools and practises. This has been investigated based on the following research questions: What are the testability issues of client-side JavaScript and Standard ML? Which considerations need to be made in order to write stable and maintainable tests? How does testing culture affect productivity and quality of software?

Through quantitative interviews, implementation of the DescribeSML testing framework and development with tests in different scenarios, answers to these questions have been sought. The dynamic nature of JavaScript makes it more important to test whereas there are limitations on how Standard ML can be tested imposed by its static type system and immutability.

The conclusion was drawn that the main issues for testability are dependency management, how to test graphical interfaces, and maintaining separation of concerns. In order to write stable and maintainable tests, suitable tools and priorities are needed. The impact of testing culture depends on the ability to avoid time-consuming and unreliable tests. Harnessing the technological advancements, making continuous tradeoffs between rigour and simplicity, and applying pragmatism, ingenuity and persistence, are key to overcoming these challenges.
\end{abstract}

\newpage
\null
\newpage

\section*{Populärvetenskaplig sammanfattning}

När en webbsida skapas så innebär det ofta flera månader av kodande innan den kan börja användas, i vissa fall flera år. Ju mer avancerad funktionalitet sidan har desto mer tid tenderar utvecklingen att ta i anspråk och desto större blir risken för buggar, särskilt om det är många personer som arbetar med sidan. När sidan väl är lanserad så återstår vanligen en ännu längre tid av drift och underhåll. I det skedet upptäcks och åtgärdas de eventuella buggar som inte hann upptäckas under utvecklingsfasen och det tenderar att ske omfattande förändringar. Det kan vara en stor utmaning att göra detta utan att introducera nya buggar eller förstöra andra delar av sidan, och förändringarna tar ofta längre tid att genomföra än man tror.

En webbsidas skick kan idag vara avgörande för om det uppstår ett förtroende gentemot ett företag, eftersom den ofta utgör ett första intryck. Vissa företag sköter även en stor del av sin centrala verksamhet genom webbsidor så om en sida inte fungerar kan till exempel beställningar eller annan information gå förlorad. Företag kan alltså få både ökade kostnader och förlorad inkomst av buggar, vilket är varför det behövs noggrannt förebyggande arbete.

Ett av de vanligaste sätten att minimera förekomsten av buggar är testning. En variant är att manuellt kontrollera funktioner, till exempel genom att lägga upp varje ny version av en sida på en testserver där man klickar sig runt på webbsidan och kontrollerar att saker fungerar som de ska innan man laddar upp den så att allmänheten kommer åt den. Detta är en billig metod på kort sikt, men det innebär ständig upprepning av tidskrävande procedurer så det kan visa sig ohållbart på längre sikt. Det medför även behov av manuell felsökning för att ta reda på varför något inte fungerar och det kan vara svårt att veta hur något är tänkt att fungera om kraven inte är tillräckligt formaliserade.

Ett alternativ är automatiserade tester, som kan testa specifika delar av koden eller simulera en användares beteende utan mänsklig inblandning. Det är den typen av tester som den här uppsatsen fokuserar på. Mycket av den teknik som används för att skapa hemsidor är förhållandevis ny och det tillkommer hela tiden nya sätt att arbeta på, så det finns ett stort behov av översikt och utvärdering av teknologin. Det finns även mycket att lära genom att jämföra denna teknik med testning i andra sammanhang och i programmeringsspråk som normalt inte används för webben. En fullständig kartläggning av alla tekniker som går att koppla till testning av webbsidor vore dock ett alltför stort projekt för detta format, så denna uppsats är avgränsad till att endast behandla JavaScript och Standard ML, två programmeringsspråk med intressanta likheter och skillnader.

JavaScript används inom webbutveckling för att skapa interaktiva sidor med minimal trafik mot servrar. Standard ML å andra sidan är uppbyggt annorlunda och används oftast i helt andra sammanhang, men stödjer i grunden en liknande programmeringsstil. Det har den senaste tiden skett framsteg inom testning för dessa programmeringsspråk, mycket tack vare att information om hur man går tillväga har blivit mer tillgänglig, nya ramverk gör att kod struktureras på ett annat sätt än tidigare och det har uppstått fler och stabilare sätt att köra koden på. Här ges en överblick över dessa framsteg, och de många tekniker som idag används för testdriven utveckling.

Genom egen utveckling och intervjuer med andra utvecklare har problem och lösningar inom området undersökts. Några av de större svårigheter som identifierats är att vissa mekanismer (asynkront beteende, DOM-manipulation, grafiska komponenter) är svåra att testa utförligt utan att testerna blir opålitliga eller långsamma, att det sällan lönar sig att skriva tester i efterhand, att det kan vara svårt att hålla tester lättförståeliga och uppdaterade, att utvecklingsverktygen kan vara begränsande, och att programmeringsspråkens uppbyggnad och typen av applikation har viss inverkan på vad som är möjligt och lämpligt att testa. Det spelar även stor roll vilka erfarenhetsmässiga och kulturella förutsättningar utvecklarna har för att skriva tester.

Testning i sig är inte en lösning på alla problem, och olika former och nivåer av testning lämpar sig för olika situationer, men när det används rätt så kan det gynna både användare, organisationer och utvecklarna själva. I det här arbetet presenteras ett testningsramverk som producerats för Standard ML och en översikt av hur automatiserad testning kan gå till, med fokus på testdriven webbutveckling med JavaScript. En viktig slutsats är att testning behöver ses som ett verktyg och inte ett självändamål och att utvecklare behöver hitta de metoder och verktyg som fungerar bäst för dem.

\newpage

\section*{Acknowledgment}

Thanks goes to my supervisors Tobias Hasslebrant and Jimmy Larsson for providing me with valuable feedback and connections, to my reviewer Roland Bol for guiding me through the process and giving useful and constructive comments on my work, to the people I have had contact with and interviewed as part of this work, to all my wonderful colleagues at Valtech that never fail to surprise me with their helpfulness and expertise, and to my family and friends (and cats!) for all the little things that ultimately matters the most.

\newpage
\null
\newpage

\tableofcontents

\newpage

\pagenumbering{arabic} % Turn page numbering back on
